module.exports=[95116,a=>{"use strict";({id:"1",email:"cliente@email.com",name:"JoÃ£o Silva",phone:"(11) 98765-4321",role:"client",addresses:[{id:"1",street:"Rua das Flores",number:"123",complement:"Apto 45",neighborhood:"Centro",city:"SÃ£o Paulo",state:"SP",zipCode:"01234-567",isDefault:!0}],createdAt:new Date().toISOString()}).addresses[0],new Date(Date.now()-1728e5).toISOString(),a.s(["mockCategories",0,[{id:"1",name:"Padaria",icon:"ðŸ¥–",image:"/bakery-bread-display.png"},{id:"2",name:"Hortifruti",icon:"ðŸ“",image:"/fresh-strawberry.jpg"},{id:"3",name:"AÃ§ougue",icon:"ðŸ¥©",image:"/meat-steak.jpg"},{id:"4",name:"Bebidas",icon:"ðŸ¥¤",image:"/beverages-drinks.jpg"},{id:"5",name:"Mercearia",icon:"ðŸ›’",image:"/busy-grocery-aisle.png"},{id:"6",name:"Pet Shop",icon:"ðŸ•",image:"/pet-supplies.png"},{id:"7",name:"Limpeza",icon:"ðŸ§¹",image:"/assorted-cleaning-supplies.png"},{id:"8",name:"Gourmet",icon:"ðŸ·",image:"/gourmet-food-display.png"}],"mockMarket",0,{id:"1",name:"Mercado SÃ£o Jorge",address:"Av. dos AutomÃ³veis, 1696",phone:"(11) 3456-7890",openingHours:"Seg - Dom: 7h Ã s 22h",deliveryFee:5.99,minOrderValue:20,estimatedDeliveryTime:"30-45 min",rating:4.8,logo:"/generic-supermarket-logo.png",banner:"/images/pagamentos.png"},"mockProducts",0,[{id:"1",name:"PÃ£o FrancÃªs",description:"PÃ£o francÃªs fresquinho do dia",price:.5,image:"/french-bread.png",categoryId:"1",unit:"un",size:"60g",stock:100,featured:!0},{id:"2",name:"Morango",description:"Morango fresco e selecionado",price:8.99,originalPrice:12.99,image:"/fresh-strawberries.png",categoryId:"2",unit:"kg",size:"500g",stock:50,featured:!0},{id:"3",name:"Picanha",description:"Picanha premium de primeira qualidade",price:69.99,image:"/picanha-meat.jpg",categoryId:"3",unit:"kg",size:"1kg",stock:20,featured:!0},{id:"4",name:"Coca-Cola 2L",description:"Refrigerante Coca-Cola 2 litros",price:9.99,originalPrice:11.99,image:"/classic-coca-cola.png",categoryId:"4",unit:"un",size:"2L",stock:80,featured:!1},{id:"5",name:"Arroz Branco 5kg",description:"Arroz tipo 1 de qualidade",price:24.99,image:"/rice-bag.png",categoryId:"5",unit:"un",size:"5kg",stock:60,featured:!1},{id:"6",name:"RaÃ§Ã£o Golden",description:"RaÃ§Ã£o premium para cÃ£es adultos",price:159.99,image:"/dog-food-bag.jpg",categoryId:"6",unit:"un",size:"15kg",stock:15,featured:!1}]])},68515,a=>{"use strict";var b=a.i(2295);let c=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},d=a=>{let d=a?c(a):c,e=a=>(function(a,c=a=>a){let d=b.default.useSyncExternalStore(a.subscribe,b.default.useCallback(()=>c(a.getState()),[a,c]),b.default.useCallback(()=>c(a.getInitialState()),[a,c]));return b.default.useDebugValue(d),d})(d,a);return Object.assign(e,d),e},e=a=>a?d(a):d,f=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>f(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>f(b)(a)}}},g=(a,b)=>(c,d,e)=>{let g,h={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=new Set,k=new Set,l=h.storage;if(!l)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),c(...a)},d,e);let m=()=>{let a=h.partialize({...d()});return l.setItem(h.name,{state:a,version:h.version})},n=e.setState;e.setState=(a,b)=>(n(a,b),m());let o=a((...a)=>(c(...a),m()),d,e);e.getInitialState=()=>o;let p=()=>{var a,b;if(!l)return;i=!1,j.forEach(a=>{var b;return a(null!=(b=d())?b:o)});let e=(null==(b=h.onRehydrateStorage)?void 0:b.call(h,null!=(a=d())?a:o))||void 0;return f(l.getItem.bind(l))(h.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return[!1,a.state];else{if(h.migrate){let b=h.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;let[e,f]=a;if(c(g=h.merge(f,null!=(b=d())?b:o),!0),e)return m()}).then(()=>{null==e||e(g,void 0),g=d(),i=!0,k.forEach(a=>a(g))}).catch(a=>{null==e||e(void 0,a)})};return e.persist={setOptions:a=>{h={...h,...a},a.storage&&(l=a.storage)},clearStorage:()=>{null==l||l.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},h.skipHydration||p(),g||o};var h=a.i(95116);let i=e()(g((a,b)=>({items:[],addItem:async(c,d=1)=>{if(console.log("=== CART STORE DEBUG ==="),console.log("addItem called with:",{productId:c,quantity:d}),console.log("Product ID type:",typeof c),console.log("Product ID value:",`"${c}"`),console.log("Product ID truthy:",!!c),console.log("Product ID strict equals 'undefined':","undefined"===c),console.log("Product ID strict equals 'null':","null"===c),console.log("========================"),!c||"undefined"===c||"null"===c||""===c||"string"!=typeof c){console.error("Invalid product ID provided:",c,typeof c);let b=h.mockProducts.find(a=>a.id&&"undefined"!==a.id&&"null"!==a.id);b?(console.log("Using default mock product:",b),a(a=>({items:[...a.items,{productId:b.id,quantity:d,price:b.price}]}))):(console.log("No valid mock products found, using unknown product"),a(a=>({items:[...a.items,{productId:"unknown",quantity:d,price:0}]})));return}let e=b().items.findIndex(a=>a.productId===c);if(-1!==e)return void a(a=>({items:a.items.map((a,b)=>b===e?{...a,quantity:a.quantity+d}:a)}));try{if(!c||""===c.trim()){console.error("Cannot fetch product: Product ID is empty or invalid",c),a(a=>({items:[...a.items,{productId:"unknown",quantity:d,price:0}]}));return}let b=`/api/products/${encodeURIComponent(c)}`;console.log("Fetching product from URL:",b);let e=await fetch(b);if(console.log("Product fetch response status:",e.status),e.ok){let b=await e.json();console.log("Fetched product:",b);let f=0;"number"==typeof b.price&&(f=b.price),console.log("Using price:",f),a(a=>({items:[...a.items,{productId:c,quantity:d,price:f}]}));return}{let b=await e.text();if(console.error("Failed to fetch product:",e.status,e.statusText,"Body:",b),404===e.status)return void console.error("Product not found in database, not adding to cart");a(a=>({items:[...a.items,{productId:c,quantity:d,price:0}]}));return}}catch(b){console.error("Error fetching product price:",b),a(a=>({items:[...a.items,{productId:c,quantity:d,price:0}]}));return}},removeItem:b=>{a(a=>({items:a.items.filter(a=>a.productId!==b)}))},updateQuantity:(c,d)=>{d<=0?b().removeItem(c):a(a=>({items:a.items.map(a=>a.productId===c?{...a,quantity:d}:a)}))},clearCart:()=>a({items:[]}),getTotal:()=>b().items.reduce((a,b)=>a+b.price*b.quantity,0),getItemCount:()=>b().items.reduce((a,b)=>a+b.quantity,0),cleanupInvalidItems:()=>{a(a=>({items:a.items.filter(a=>a.productId&&"undefined"!==a.productId&&"null"!==a.productId&&""!==a.productId)}))}}),{name:"cart-storage"})),j=e()(g((a,b)=>({user:null,isAuthenticated:!1,login:async(b,c)=>{try{let d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:b,password:c})}),e=await d.json();if(d.ok&&e.user)return a({user:e.user,isAuthenticated:!0}),!0;return!1}catch{return!1}},loginWithOAuth:b=>{a({user:b,isAuthenticated:!0})},logout:()=>{a({user:null,isAuthenticated:!1})},updateUser:b=>{a(a=>({user:a.user?{...a.user,...b}:null}))},addAddress:b=>{a(a=>{if(!a.user)return a;let c={...b,id:String(Date.now())};return{user:{...a.user,addresses:[...a.user.addresses,c]}}})}}),{name:"auth-storage"})),k=e()(g(a=>({orders:[],addOrder:b=>{let c={...b,id:String(Date.now()),createdAt:new Date().toISOString()};a(a=>({orders:[c,...a.orders]}))},updateOrderStatus:(b,c)=>{a(a=>({orders:a.orders.map(a=>a.id===b?{...a,status:c}:a)}))}}),{name:"order-storage"}));a.s(["useAuthStore",0,j,"useCartStore",0,i,"useOrderStore",0,k],68515)},60350,a=>{"use strict";var b=a.i(51220),c=a.i(2295),d=a.i(41602),e=a.i(68515);function f(){let a=(0,d.useRouter)(),{isAuthenticated:f,user:g}=(0,e.useAuthStore)();return(0,c.useEffect)(()=>{f&&g?.role==="admin"?a.push("/admin"):a.push("/client")},[f,g,a]),(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}a.s(["default",()=>f])}];

//# sourceMappingURL=_88a43d3d._.js.map