{"version":3,"sources":["../../../../lib/currency.ts","../../../../app/test/cart-test/page.tsx"],"sourcesContent":["export function formatCurrency(value: number): string {\n  return new Intl.NumberFormat(\"pt-BR\", {\n    style: \"currency\",\n    currency: \"BRL\",\n  }).format(value)\n}\n\nexport function formatDate(dateString: string): string {\n  return new Intl.DateTimeFormat(\"pt-BR\", {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(new Date(dateString))\n}\n\nexport function formatDateShort(dateString: string): string {\n  return new Intl.DateTimeFormat(\"pt-BR\", {\n    day: \"2-digit\",\n    month: \"short\",\n  }).format(new Date(dateString))\n}\n","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useCartStore } from \"@/lib/store\";\r\nimport { formatCurrency } from \"@/lib/currency\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nexport default function CartTestPage() {\r\n  const { items, addItem, removeItem, getTotal, getItemCount } = useCartStore();\r\n  const [products, setProducts] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fetch products for testing\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await fetch(\"/api/products\");\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setProducts(data.products);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching products:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleAddItem = async (productId: string) => {\r\n    await addItem(productId, 1);\r\n  };\r\n\r\n  const handleRemoveItem = (productId: string) => {\r\n    removeItem(productId);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"p-4\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Cart Test Page</h1>\r\n      \r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-xl font-semibold\">Products</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {products.map((product) => (\r\n            <div key={product.id} className=\"border rounded-lg p-4 space-y-2\">\r\n              <h3 className=\"font-medium\">{product.name}</h3>\r\n              <p className=\"text-primary font-bold\">{formatCurrency(product.price)}</p>\r\n              <Button onClick={() => handleAddItem(product.id)}>Add to Cart</Button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-xl font-semibold\">\r\n          Cart ({getItemCount()} items) - Total: {formatCurrency(getTotal())}\r\n        </h2>\r\n        {items.length === 0 ? (\r\n          <p>Your cart is empty</p>\r\n        ) : (\r\n          <div className=\"space-y-2\">\r\n            {items.map((item, index) => {\r\n              const product = products.find(p => p.id === item.productId);\r\n              return (\r\n                <div key={`${item.productId}-${index}`} className=\"flex justify-between items-center border-b pb-2\">\r\n                  <div>\r\n                    <h3>{product?.name || \"Unknown Product\"}</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {item.quantity} Ã— {formatCurrency(item.price)} = {formatCurrency(item.quantity * item.price)}\r\n                    </p>\r\n                  </div>\r\n                  <Button variant=\"destructive\" onClick={() => removeItem(item.productId)}>\r\n                    Remove\r\n                  </Button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}