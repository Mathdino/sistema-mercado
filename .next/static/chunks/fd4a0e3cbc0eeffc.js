(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51185,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},60039,e=>{"use strict";let s=(0,e.i(10965).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],60039)},48054,e=>{"use strict";let s=(0,e.i(10965).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>s],48054)},69035,e=>{"use strict";var s=e.i(7156),t=e.i(81061),a=e.i(95264),r="horizontal",i=["horizontal","vertical"],l=t.forwardRef((e,t)=>{var l;let{decorative:d,orientation:n=r,...c}=e,o=(l=n,i.includes(l))?n:r;return(0,s.jsx)(a.Primitive.div,{"data-orientation":o,...d?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:t})});l.displayName="Separator";var d=e.i(47163);function n({className:e,orientation:t="horizontal",decorative:a=!0,...r}){return(0,s.jsx)(l,{"data-slot":"separator",decorative:a,orientation:t,className:(0,d.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}e.s(["Separator",()=>n],69035)},89457,e=>{"use strict";let s=(0,e.i(10965).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>s],89457)},46015,e=>{"use strict";let s=(0,e.i(10965).default)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);e.s(["Smartphone",()=>s],46015)},35301,26773,65515,e=>{"use strict";var s=e.i(10965);let t=(0,s.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],35301);let a=(0,s.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>a],26773);let r=(0,s.default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>r],65515)},55191,e=>{"use strict";var s=e.i(7156),t=e.i(81061),a=e.i(15599),r=e.i(80987),i=e.i(1337),l=e.i(73428),d=e.i(30412),n=e.i(67881),c=e.i(70065),o=e.i(69035),m=e.i(4421),x=e.i(70137),h=e.i(48054),u=e.i(86591),p=e.i(35301),f=e.i(26773),j=e.i(65515),y=e.i(49110),v=e.i(89457),g=e.i(46015),N=e.i(60039),b=e.i(84675);let C={pending:{label:"Pendente",icon:u.Clock,variant:"secondary"},confirmed:{label:"Confirmado",icon:p.CheckCircle2,variant:"default"},preparing:{label:"Preparando",icon:h.Package,variant:"default"},delivering:{label:"Em entrega",icon:j.Truck,variant:"default"},delivered:{label:"Entregue",icon:p.CheckCircle2,variant:"outline"},cancelled:{label:"Cancelado",icon:f.XCircle,variant:"destructive"}};function k({params:e}){let[h,u]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[j,k]=(0,t.useState)(null),[w,S]=(0,t.useState)(!0),P=(0,a.useRouter)(),{user:A,isAuthenticated:M}=(0,m.useAuthStore)();(0,t.useEffect)(()=>{f(!0)},[]),(0,t.useEffect)(()=>{p&&!M&&u(!0)},[p,M]),(0,t.useEffect)(()=>{(async()=>{if(M&&A?.id)try{S(!0);let s=await fetch("/api/orders/me");if(s.ok){let t=(await s.json()).find(s=>s.id===e.id);k(t||null)}}catch(e){console.error("Error fetching order:",e)}finally{S(!1)}})()},[M,A?.id,e.id]);let z=()=>{};if(!p)return null;if(!M||!j&&!w)return P.push("/client/orders"),null;if(w)return(0,s.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,s.jsx)(i.ClientHeader,{}),(0,s.jsx)("main",{className:"flex flex-col items-center justify-center px-4 py-16",children:(0,s.jsx)("p",{children:"Carregando pedido..."})}),(0,s.jsx)(l.BottomNav,{}),(0,s.jsx)(d.LoginModal,{isOpen:h,onClose:()=>u(!1),onLoginSuccess:z})]});if(!j)return(0,s.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,s.jsx)(i.ClientHeader,{}),(0,s.jsx)("main",{className:"flex flex-col items-center justify-center px-4 py-16",children:(0,s.jsx)("p",{children:"Pedido não encontrado."})}),(0,s.jsx)(l.BottomNav,{}),(0,s.jsx)(d.LoginModal,{isOpen:h,onClose:()=>u(!1),onLoginSuccess:z})]});let T=C[j.status]||C.pending,E=T.icon;return(0,s.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,s.jsx)(i.ClientHeader,{}),(0,s.jsxs)("main",{className:"space-y-4 px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>P.back(),children:(0,s.jsx)(b.ArrowLeft,{className:"h-5 w-5"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Detalhes do Pedido"})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.CardTitle,{className:"text-lg",children:["Pedido #",j.id.replace(/-/g,"").substring(0,8)]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,x.formatDate)(j.createdAt)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(E,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:T.label})]})]})}),(0,s.jsxs)(c.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-3 font-semibold",children:"Itens do Pedido"}),(0,s.jsx)("div",{className:"space-y-4",children:j.items.map(e=>(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"relative h-16 w-16 flex-shrink-0 overflow-hidden rounded bg-muted",children:(0,s.jsx)(r.default,{src:e.productImage||"/placeholder.svg",alt:e.productName,fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"text-sm font-medium",children:e.productName}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.quantity,"x ",(0,x.formatCurrency)(e.price)]})]}),(0,s.jsx)("div",{className:"flex flex-col items-end",children:(0,s.jsx)("span",{className:"text-sm font-medium",children:(0,x.formatCurrency)(e.subtotal)})})]},e.productId))})]}),(0,s.jsx)(o.Separator,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,s.jsx)("span",{children:(0,x.formatCurrency)(j.subtotal)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Taxa de entrega"}),(0,s.jsx)("span",{children:j.deliveryFee>0?(0,x.formatCurrency)(j.deliveryFee):"Grátis"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-lg font-semibold",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsx)("span",{className:"text-green-600",children:(0,x.formatCurrency)(j.totalAmount)})]})]}),(0,s.jsx)(o.Separator,{}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-3 font-semibold",children:"Endereço de Entrega"}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,s.jsx)(y.MapPin,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[j.deliveryAddress.street,", ",j.deliveryAddress.number]}),j.deliveryAddress.complement&&(0,s.jsx)("p",{className:"text-muted-foreground",children:j.deliveryAddress.complement}),(0,s.jsxs)("p",{children:[j.deliveryAddress.neighborhood," - ",j.deliveryAddress.city,","," ",j.deliveryAddress.state]}),(0,s.jsxs)("p",{children:["CEP: ",j.deliveryAddress.zipCode]})]})]})})]}),(0,s.jsx)(o.Separator,{}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Detalhes do Pagamento"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["pix"===j.paymentMethod&&(0,s.jsx)(g.Smartphone,{className:"h-4 w-4"}),"credit"===j.paymentMethod&&(0,s.jsx)(v.CreditCard,{className:"h-4 w-4"}),"debit"===j.paymentMethod&&(0,s.jsx)(v.CreditCard,{className:"h-4 w-4"}),"cash"===j.paymentMethod&&(0,s.jsx)(N.DollarSign,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:{pix:"PIX",credit:"Crédito",debit:"Débito",cash:"Dinheiro"}[j.paymentMethod]})]}),j.notes&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Observações:"}),(0,s.jsx)("p",{className:"text-sm",children:j.notes})]})]})]})]})]}),(0,s.jsx)(l.BottomNav,{}),(0,s.jsx)(d.LoginModal,{isOpen:h,onClose:()=>u(!1),onLoginSuccess:z})]})}e.s(["default",()=>k])}]);