(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8444,e=>{"use strict";var t=e.i(81061),r=e.i(32229);function a(e){let[a,s]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,a;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;s({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),a}e.s(["useSize",()=>a])},60039,e=>{"use strict";let t=(0,e.i(10965).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],60039)},37777,e=>{"use strict";var t=e.i(81061);e.i(7156);var r=t.createContext(void 0);function a(e){let a=t.useContext(r);return e||a||"ltr"}e.s(["useDirection",()=>a])},54857,e=>{"use strict";var t=e.i(81061);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},84762,e=>{"use strict";var t=e.i(7156),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},76567,17982,e=>{"use strict";var t=e.i(81061),r=e.i(78896),a=e.i(14503),s=e.i(69136),i=e.i(21463),n=e.i(19960),o=e.i(95264),l=e.i(44780),d=e.i(45081),c=e.i(37777),u=e.i(7156),p="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[h,x,v]=(0,a.createCollection)(f),[g,y]=(0,i.createContextScope)(f,[v]),[j,b]=g(f),w=t.forwardRef((e,t)=>(0,u.jsx)(h.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(h.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(N,{...e,ref:t})})}));w.displayName=f;var N=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:i,orientation:n,loop:f=!1,dir:h,currentTabStopId:v,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:y,onEntryFocus:b,preventScrollOnEntryFocus:w=!1,...N}=e,C=t.useRef(null),k=(0,s.useComposedRefs)(a,C),S=(0,c.useDirection)(h),[E=null,R]=(0,d.useControllableState)({prop:v,defaultProp:g,onChange:y}),[I,F]=t.useState(!1),P=(0,l.useCallbackRef)(b),A=x(i),z=t.useRef(!1),[L,M]=t.useState(0);return t.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(p,P),()=>e.removeEventListener(p,P)},[P]),(0,u.jsx)(j,{scope:i,orientation:n,dir:S,loop:f,currentTabStopId:E,onItemFocus:t.useCallback(e=>R(e),[R]),onItemShiftTab:t.useCallback(()=>F(!0),[]),onFocusableItemAdd:t.useCallback(()=>M(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>M(e=>e-1),[]),children:(0,u.jsx)(o.Primitive.div,{tabIndex:I||0===L?-1:0,"data-orientation":n,...N,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{z.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!z.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(p,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);D([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current),w)}}z.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>F(!1))})})}),C="RovingFocusGroupItem",k=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,focusable:i=!0,active:l=!1,tabStopId:d,...c}=e,p=(0,n.useId)(),m=d||p,f=b(C,s),v=f.currentTabStopId===m,g=x(s),{onFocusableItemAdd:y,onFocusableItemRemove:j}=f;return t.useEffect(()=>{if(i)return y(),()=>j()},[i,y,j]),(0,u.jsx)(h.ItemSlot,{scope:s,id:m,focusable:i,active:l,children:(0,u.jsx)(o.Primitive.span,{tabIndex:v?0:-1,"data-orientation":f.orientation,...c,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{i?f.onItemFocus(m):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(m)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return S[s]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&s.reverse();let i=s.indexOf(e.currentTarget);s=f.loop?(r=s,a=i+1,r.map((e,t)=>r[(a+t)%r.length])):s.slice(i+1)}setTimeout(()=>D(s))}})})})});k.displayName=C;var S={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>k,"Root",()=>w,"createRovingFocusGroupScope",()=>y],76567);let E=(0,e.i(10965).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["CircleIcon",()=>E],17982)},70137,e=>{"use strict";function t(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function r(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function a(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short"}).format(new Date(e))}e.s(["formatCurrency",()=>t,"formatDate",()=>r,"formatDateShort",()=>a])},68793,e=>{"use strict";let t=(0,e.i(10965).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],68793)},94179,e=>{"use strict";var t=e.i(7156),r=e.i(64701),a=e.i(94237),s=e.i(47163);let i=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,asChild:n=!1,...o}){let l=n?r.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,s.cn)(i({variant:a}),e),...o})}e.s(["Badge",()=>n])},73428,84244,e=>{"use strict";var t=e.i(7156),r=e.i(15599),a=e.i(10965);let s=(0,a.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var i=e.i(74872);let n=(0,a.default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var o=e.i(86591);let l=(0,a.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>l],84244);var d=e.i(47163),c=e.i(4421),u=e.i(94179),p=e.i(81061);function m(){let e=(0,r.useRouter)(),a=(0,r.usePathname)(),{isAuthenticated:m}=(0,c.useAuthStore)(),[f,h]=(0,p.useState)(!1),[x,v]=(0,p.useState)(0);(0,p.useEffect)(()=>{h(!0),v(c.useCartStore.getState().getItemCount())},[]),(0,p.useEffect)(()=>{if(f)return c.useCartStore.subscribe(e=>{v(e.getItemCount())})},[f]);let g=[{icon:s,label:"Início",path:"/client"},{icon:i.ShoppingBag,label:"Mercado",path:"/client/market"},{icon:n,label:"Carrinho",path:"/client/cart"},{icon:o.Clock,label:"Pedidos",path:"/client/orders",requireAuth:!0},{icon:l,label:"Perfil",path:"/client/profile",requireAuth:!0}],y=t=>{e.push(t)};return f?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-20 border-t bg-background",children:(0,t.jsx)("div",{className:"relative flex items-center justify-around py-2",children:g.map(e=>{let r=e.icon,s=a===e.path;return"/client/cart"===e.path?(0,t.jsxs)("button",{onClick:()=>y(e.path),className:"relative -translate-y-3 transform",children:[(0,t.jsxs)("div",{className:(0,d.cn)("relative flex h-12 w-12 items-center justify-center rounded-full bg-primary shadow-lg transition-all",s?"ring-2 ring-primary":""),"data-cart-icon":!0,children:[(0,t.jsx)(r,{className:"h-6 w-6 text-primary-foreground"}),x>0&&(0,t.jsx)("span",{className:"absolute -right-1.5 -top-1.5 flex h-5 w-5 items-center justify-center",children:(0,t.jsx)(u.Badge,{className:"absolute h-5 w-5 rounded-full p-0 text-xs",children:x})})]}),(0,t.jsx)("span",{className:(0,d.cn)("mt-1 block text-center text-xs font-semibold",s?"text-primary":"text-foreground"),children:e.label})]},e.path):(0,t.jsxs)("button",{onClick:()=>y(e.path),className:(0,d.cn)("flex flex-col items-center gap-1 px-4 py-2 transition-colors",s?"text-primary":"text-muted-foreground"),children:[(0,t.jsx)(r,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.path)})})})}):(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-20 border-t bg-background",children:(0,t.jsx)("div",{className:"relative flex items-center justify-around py-2",children:g.map(e=>(e.icon,(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 px-4 py-2",children:[(0,t.jsx)("div",{className:"h-5 w-5"})," ",(0,t.jsx)("span",{className:"text-xs font-medium invisible",children:e.label})]},e.path)))})})}e.s(["BottomNav",()=>m],73428)},49110,e=>{"use strict";let t=(0,e.i(10965).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],49110)},5576,e=>{"use strict";let t=(0,e.i(10965).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],5576)},93290,e=>{"use strict";let t=(0,e.i(10965).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],93290)},1337,30412,e=>{"use strict";var t=e.i(7156),r=e.i(15599),a=e.i(67881),s=e.i(84675),i=e.i(49110),n=e.i(4421);function o({showBack:e=!1}){let o=(0,r.useRouter)(),l=(0,n.useAuthStore)(e=>e.user),d=l?.addresses?.find(e=>e.isDefault)||l?.addresses?.[0];return(0,t.jsx)("header",{className:"sticky top-0 z-20 border-b bg-background",children:(0,t.jsx)("div",{className:"flex items-center justify-between px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e&&(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",onClick:()=>o.back(),children:(0,t.jsx)(s.ArrowLeft,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"flex flex-col",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Olá, ",(e=>{if(!e)return"";let t=e.trim().split(" ");return 1===t.length?t[0]:`${t[0]} ${t[t.length-1]}`})(l?.name)]}),d&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.MapPin,{className:"h-3 w-3 text-primary"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[d.street,", ",d.number," - ",d.city]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bem-vindo,"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"faça seu login e aproveite nossas ofertas de casa"})]})})]})})})}e.s(["ClientHeader",()=>o],1337);var l=e.i(81061),d=e.i(23750),c=e.i(10708),u=e.i(30374),p=e.i(20682),m=e.i(74872),f=e.i(5576),h=e.i(68793),x=e.i(93290);function v({isOpen:e,onClose:s,onLoginSuccess:i}){(0,r.useRouter)();let{login:o,loginWithOAuth:v}=(0,n.useAuthStore)(),{toast:g}=(0,p.useToast)(),[y,j]=(0,l.useState)("login"),[b,w]=(0,l.useState)(""),[N,C]=(0,l.useState)(""),[k,S]=(0,l.useState)(""),[D,E]=(0,l.useState)(""),[R,I]=(0,l.useState)(""),[F,P]=(0,l.useState)(""),[A,z]=(0,l.useState)(""),[L,M]=(0,l.useState)(""),[B,O]=(0,l.useState)(""),[T,H]=(0,l.useState)(""),[q,_]=(0,l.useState)(""),[$,U]=(0,l.useState)(""),[G,K]=(0,l.useState)(""),[V,W]=(0,l.useState)(!1),[J,Z]=(0,l.useState)(!1),[X,Q]=(0,l.useState)(!1),Y=e=>{let t=e.replace(/\D/g,"").slice(0,11),r=t.slice(0,3),a=t.slice(3,6),s=t.slice(6,9),i=t.slice(9,11);return[r,a&&`.${a}`,s&&`.${s}`,i&&`-${i}`].filter(Boolean).join("")},ee=async e=>{e.preventDefault(),W(!0),await o(b,k)?(g({title:"Login realizado",description:"Bem-vindo de volta!"}),s(),i&&i()):g({title:"Erro ao fazer login",description:"CPF ou senha incorretos",variant:"destructive"}),W(!1)},et=async()=>{let e=A.replace(/\D/g,"").slice(0,8);if(8!==e.length)return void g({title:"CEP inválido",description:"Informe 8 dígitos do CEP",variant:"destructive"});try{let t=await fetch(`https://viacep.com.br/ws/${e}/json/`),r=await t.json();if(r?.erro)return void g({title:"CEP não encontrado",variant:"destructive"});M(r.logradouro||""),O(r.localidade||""),H(r.bairro||""),_(r.uf||"")}catch{g({title:"Erro ao buscar CEP",variant:"destructive"})}},er=async e=>{e.preventDefault(),W(!0);try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:R.trim(),cpf:b,phone:F,password:k,confirmPassword:D,address:{cep:A.replace(/\D/g,""),street:L,city:B,neighborhood:T,state:q,number:$,complement:G}})}),t=await e.json();if(e.ok&&t.user)g({title:"Conta criada",description:"Agora entre com seu CPF e senha."}),j("login"),S(""),E("");else{let e=t?.error==="cpf_exists"?"CPF já cadastrado":t?.error==="password_mismatch"?"Senhas não conferem":t?.error==="invalid_cpf"?"CPF inválido, verifique os dígitos":`Erro ao criar conta${t?.details?`: ${t.details}`:""}`;g({title:"Erro",description:e,variant:"destructive"})}}catch{g({title:"Erro ao criar conta",variant:"destructive"})}W(!1)};return(0,t.jsx)(u.Dialog,{open:e,onOpenChange:s,children:(0,t.jsxs)(u.DialogContent,{className:"sm:max-w-md max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(u.DialogHeader,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary",children:(0,t.jsx)(m.ShoppingBag,{className:"h-8 w-8 text-primary-foreground"})}),(0,t.jsx)(u.DialogTitle,{className:"text-2xl",children:"Bem-vindo"}),(0,t.jsx)(u.DialogDescription,{children:"Entre com sua conta para continuar"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(a.Button,{variant:"login"===y?"default":"outline",onClick:()=>j("login"),children:"Entrar"}),(0,t.jsx)(a.Button,{variant:"register"===y?"default":"outline",onClick:()=>j("register"),children:"Criar conta"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"login"===y?"Entre com seu CPF":"Preencha seus dados para criar a conta"})})]}),"login"===y?(0,t.jsxs)("form",{onSubmit:ee,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-cpf",children:"CPF"}),(0,t.jsx)(d.Input,{id:"modal-cpf",type:"text",placeholder:"000.000.000-00",value:N,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,11);w(t),C(Y(t))},required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-password",children:"Senha"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Input,{id:"modal-password",type:J?"text":"password",placeholder:"••••••••",value:k,onChange:e=>S(e.target.value),required:!0}),(0,t.jsx)(a.Button,{type:"button",variant:"outline",size:"icon",onClick:()=>Z(e=>!e),"aria-label":J?"Ocultar senha":"Mostrar senha",children:J?(0,t.jsx)(x.EyeOff,{className:"h-4 w-4"}):(0,t.jsx)(h.Eye,{className:"h-4 w-4"})})]})]}),(0,t.jsx)(a.Button,{type:"submit",className:"w-full",disabled:V,children:V?"Entrando...":"Entrar"})]}):(0,t.jsxs)("form",{onSubmit:er,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-fullname",children:"Nome Completo"}),(0,t.jsx)(d.Input,{id:"modal-fullname",type:"text",placeholder:"Seu nome completo",value:R,onChange:e=>I(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-cpf",children:"CPF"}),(0,t.jsx)(d.Input,{id:"modal-cpf",type:"text",placeholder:"000.000.000-00",value:N,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,11);w(t),C(Y(t))},required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-phone",children:"Telefone"}),(0,t.jsx)(d.Input,{id:"modal-phone",type:"text",placeholder:"(00) 00000-0000",value:F,onChange:e=>{let t,r,a,s;return P((r=(t=e.target.value.replace(/\D/g,"").slice(0,11)).slice(0,2),a=t.slice(2,7),[r&&`(${r}) `,a,(s=t.slice(7,11))&&`-${s}`].filter(Boolean).join("")))},required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 items-end",children:[(0,t.jsxs)("div",{className:"space-y-2 sm:col-span-1",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-cep",children:"CEP"}),(0,t.jsx)(d.Input,{id:"modal-cep",type:"text",placeholder:"00000000",value:A,onChange:e=>z(e.target.value.replace(/\D/g,"")),required:!0})]}),(0,t.jsx)("div",{className:"sm:col-span-1",children:(0,t.jsxs)(a.Button,{type:"button",className:"w-full",onClick:et,children:[(0,t.jsx)(f.Search,{className:"mr-2 h-4 w-4"}),"Buscar CEP"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-street",children:"Rua"}),(0,t.jsx)(d.Input,{id:"modal-street",type:"text",placeholder:"Rua",value:L,onChange:e=>M(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-city",children:"Cidade"}),(0,t.jsx)(d.Input,{id:"modal-city",type:"text",placeholder:"Cidade",value:B,onChange:e=>O(e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-neighborhood",children:"Bairro"}),(0,t.jsx)(d.Input,{id:"modal-neighborhood",type:"text",placeholder:"Bairro",value:T,onChange:e=>H(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-state",children:"Estado (UF)"}),(0,t.jsx)(d.Input,{id:"modal-state",type:"text",placeholder:"UF",value:q,onChange:e=>_(e.target.value.slice(0,2).toUpperCase()),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-number",children:"Número"}),(0,t.jsx)(d.Input,{id:"modal-number",type:"text",placeholder:"Número",value:$,onChange:e=>U(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-complement",children:"Complemento"}),(0,t.jsx)(d.Input,{id:"modal-complement",type:"text",placeholder:"Apartamento, bloco, etc.",value:G,onChange:e=>K(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-password",children:"Senha"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Input,{id:"modal-password",type:J?"text":"password",placeholder:"••••••••",value:k,onChange:e=>S(e.target.value),required:!0}),(0,t.jsx)(a.Button,{type:"button",variant:"outline",size:"icon",onClick:()=>Z(e=>!e),"aria-label":J?"Ocultar senha":"Mostrar senha",children:J?(0,t.jsx)(x.EyeOff,{className:"h-4 w-4"}):(0,t.jsx)(h.Eye,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"modal-confirm-password",children:"Confirmar Senha"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Input,{id:"modal-confirm-password",type:X?"text":"password",placeholder:"••••••••",value:D,onChange:e=>E(e.target.value),required:!0}),(0,t.jsx)(a.Button,{type:"button",variant:"outline",size:"icon",onClick:()=>Q(e=>!e),"aria-label":X?"Ocultar senha":"Mostrar senha",children:X?(0,t.jsx)(x.EyeOff,{className:"h-4 w-4"}):(0,t.jsx)(h.Eye,{className:"h-4 w-4"})})]})]})]}),(0,t.jsx)(a.Button,{type:"submit",className:"w-full",disabled:V,children:V?"Criando conta...":"Criar conta"})]}),(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,t.jsx)("p",{children:"Use seu CPF e senha para acessar."})})]})]})})}e.s(["LoginModal",()=>v],30412)},23750,e=>{"use strict";var t=e.i(7156),r=e.i(47163);function a({className:e,type:a,...s}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},10708,e=>{"use strict";var t=e.i(7156),r=e.i(81061),a=e.i(95264),s=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=e.i(47163);function n({className:e,...r}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>n],10708)},30374,e=>{"use strict";var t=e.i(7156),r=e.i(81061),a=e.i(78896),s=e.i(69136),i=e.i(21463),n=e.i(19960),o=e.i(45081),l=e.i(15208),d=e.i(46666),c=e.i(40535),u=e.i(93142),p=e.i(95264),m=e.i(29972),f=e.i(14329),h=e.i(73772),x=e.i(64701),v="Dialog",[g,y]=(0,i.createContextScope)(v),[j,b]=g(v),w=e=>{let{__scopeDialog:a,children:s,open:i,defaultOpen:l,onOpenChange:d,modal:c=!0}=e,u=r.useRef(null),p=r.useRef(null),[m=!1,f]=(0,o.useControllableState)({prop:i,defaultProp:l,onChange:d});return(0,t.jsx)(j,{scope:a,triggerRef:u,contentRef:p,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:m,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),modal:c,children:s})};w.displayName=v;var N="DialogTrigger";r.forwardRef((e,r)=>{let{__scopeDialog:i,...n}=e,o=b(N,i),l=(0,s.useComposedRefs)(r,o.triggerRef);return(0,t.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":_(o.open),...n,ref:l,onClick:(0,a.composeEventHandlers)(e.onClick,o.onOpenToggle)})}).displayName=N;var C="DialogPortal",[k,S]=g(C,{forceMount:void 0}),D=e=>{let{__scopeDialog:a,forceMount:s,children:i,container:n}=e,o=b(C,a);return(0,t.jsx)(k,{scope:a,forceMount:s,children:r.Children.map(i,e=>(0,t.jsx)(u.Presence,{present:s||o.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:n,children:e})}))})};D.displayName=C;var E="DialogOverlay",R=r.forwardRef((e,r)=>{let a=S(E,e.__scopeDialog),{forceMount:s=a.forceMount,...i}=e,n=b(E,e.__scopeDialog);return n.modal?(0,t.jsx)(u.Presence,{present:s||n.open,children:(0,t.jsx)(I,{...i,ref:r})}):null});R.displayName=E;var I=r.forwardRef((e,r)=>{let{__scopeDialog:a,...s}=e,i=b(E,a);return(0,t.jsx)(f.RemoveScroll,{as:x.Slot,allowPinchZoom:!0,shards:[i.contentRef],children:(0,t.jsx)(p.Primitive.div,{"data-state":_(i.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),F="DialogContent",P=r.forwardRef((e,r)=>{let a=S(F,e.__scopeDialog),{forceMount:s=a.forceMount,...i}=e,n=b(F,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:s||n.open,children:n.modal?(0,t.jsx)(A,{...i,ref:r}):(0,t.jsx)(z,{...i,ref:r})})});P.displayName=F;var A=r.forwardRef((e,i)=>{let n=b(F,e.__scopeDialog),o=r.useRef(null),l=(0,s.useComposedRefs)(i,n.contentRef,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,h.hideOthers)(e)},[]),(0,t.jsx)(L,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),z=r.forwardRef((e,a)=>{let s=b(F,e.__scopeDialog),i=r.useRef(!1),n=r.useRef(!1);return(0,t.jsx)(L,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||s.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),L=r.forwardRef((e,a)=>{let{__scopeDialog:i,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,p=b(F,i),f=r.useRef(null),h=(0,s.useComposedRefs)(a,f);return(0,m.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:c,children:(0,t.jsx)(l.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":_(p.open),...u,ref:h,onDismiss:()=>p.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K,{titleId:p.titleId}),(0,t.jsx)(V,{contentRef:f,descriptionId:p.descriptionId})]})]})}),M="DialogTitle",B=r.forwardRef((e,r)=>{let{__scopeDialog:a,...s}=e,i=b(M,a);return(0,t.jsx)(p.Primitive.h2,{id:i.titleId,...s,ref:r})});B.displayName=M;var O="DialogDescription",T=r.forwardRef((e,r)=>{let{__scopeDialog:a,...s}=e,i=b(O,a);return(0,t.jsx)(p.Primitive.p,{id:i.descriptionId,...s,ref:r})});T.displayName=O;var H="DialogClose",q=r.forwardRef((e,r)=>{let{__scopeDialog:s,...i}=e,n=b(H,s);return(0,t.jsx)(p.Primitive.button,{type:"button",...i,ref:r,onClick:(0,a.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function _(e){return e?"open":"closed"}q.displayName=H;var $="DialogTitleWarning",[U,G]=(0,i.createContext)($,{contentName:F,titleName:M,docsSlug:"dialog"}),K=({titleId:e})=>{let t=G($),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},V=({contentRef:e,descriptionId:t})=>{let a=G("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},W=e.i(34853),W=W,J=e.i(47163);function Z({...e}){return(0,t.jsx)(w,{"data-slot":"dialog",...e})}function X({...e}){return(0,t.jsx)(D,{"data-slot":"dialog-portal",...e})}function Q({className:e,...r}){return(0,t.jsx)(R,{"data-slot":"dialog-overlay",className:(0,J.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function Y({className:e,children:r,showCloseButton:a=!0,...s}){return(0,t.jsxs)(X,{"data-slot":"dialog-portal",children:[(0,t.jsx)(Q,{}),(0,t.jsxs)(P,{"data-slot":"dialog-content",className:(0,J.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[r,a&&(0,t.jsxs)(q,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(W.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ee({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,J.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function et({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,J.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function er({className:e,...r}){return(0,t.jsx)(B,{"data-slot":"dialog-title",className:(0,J.cn)("text-lg leading-none font-semibold",e),...r})}function ea({className:e,...r}){return(0,t.jsx)(T,{"data-slot":"dialog-description",className:(0,J.cn)("text-muted-foreground text-sm",e),...r})}e.s(["Dialog",()=>Z,"DialogContent",()=>Y,"DialogDescription",()=>ea,"DialogFooter",()=>et,"DialogHeader",()=>ee,"DialogTitle",()=>er],30374)},84675,e=>{"use strict";let t=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],84675)},86591,e=>{"use strict";let t=(0,e.i(10965).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],86591)},69035,e=>{"use strict";var t=e.i(7156),r=e.i(81061),a=e.i(95264),s="horizontal",i=["horizontal","vertical"],n=r.forwardRef((e,r)=>{var n;let{decorative:o,orientation:l=s,...d}=e,c=(n=l,i.includes(n))?l:s;return(0,t.jsx)(a.Primitive.div,{"data-orientation":c,...o?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:r})});n.displayName="Separator";var o=e.i(47163);function l({className:e,orientation:r="horizontal",decorative:a=!0,...s}){return(0,t.jsx)(n,{"data-slot":"separator",decorative:a,orientation:r,className:(0,o.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}e.s(["Separator",()=>l],69035)},79971,e=>{"use strict";let t=(0,e.i(10965).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],79971)},89457,e=>{"use strict";let t=(0,e.i(10965).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],89457)},46015,e=>{"use strict";let t=(0,e.i(10965).default)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);e.s(["Smartphone",()=>t],46015)},68475,e=>{"use strict";var t=e.i(7156),r=e.i(81061),a=e.i(15599),s=e.i(1337),i=e.i(73428),n=e.i(30412),o=e.i(67881),l=e.i(70065),d=e.i(69035),c=e.i(10708),u=e.i(78896),p=e.i(69136),m=e.i(21463),f=e.i(95264),h=e.i(76567),x=e.i(45081),v=e.i(37777),g=e.i(8444),y=e.i(54857),j=e.i(93142),b="Radio",[w,N]=(0,m.createContextScope)(b),[C,k]=w(b),S=r.forwardRef((e,a)=>{let{__scopeRadio:s,name:i,checked:n=!1,required:o,disabled:l,value:d="on",onCheck:c,form:m,...h}=e,[x,v]=r.useState(null),g=(0,p.useComposedRefs)(a,e=>v(e)),y=r.useRef(!1),j=!x||m||!!x.closest("form");return(0,t.jsxs)(C,{scope:s,checked:n,disabled:l,children:[(0,t.jsx)(f.Primitive.button,{type:"button",role:"radio","aria-checked":n,"data-state":I(n),"data-disabled":l?"":void 0,disabled:l,value:d,...h,ref:g,onClick:(0,u.composeEventHandlers)(e.onClick,e=>{n||c?.(),j&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),j&&(0,t.jsx)(R,{control:x,bubbles:!y.current,name:i,value:d,checked:n,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});S.displayName=b;var D="RadioIndicator",E=r.forwardRef((e,r)=>{let{__scopeRadio:a,forceMount:s,...i}=e,n=k(D,a);return(0,t.jsx)(j.Presence,{present:s||n.checked,children:(0,t.jsx)(f.Primitive.span,{"data-state":I(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:r})})});E.displayName=D;var R=e=>{let{control:a,checked:s,bubbles:i=!0,...n}=e,o=r.useRef(null),l=(0,y.usePrevious)(s),d=(0,g.useSize)(a);return r.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&t){let r=new Event("click",{bubbles:i});t.call(e,s),e.dispatchEvent(r)}},[l,s,i]),(0,t.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function I(e){return e?"checked":"unchecked"}var F=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P="RadioGroup",[A,z]=(0,m.createContextScope)(P,[h.createRovingFocusGroupScope,N]),L=(0,h.createRovingFocusGroupScope)(),M=N(),[B,O]=A(P),T=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,name:s,defaultValue:i,value:n,required:o=!1,disabled:l=!1,orientation:d,dir:c,loop:u=!0,onValueChange:p,...m}=e,g=L(a),y=(0,v.useDirection)(c),[j,b]=(0,x.useControllableState)({prop:n,defaultProp:i,onChange:p});return(0,t.jsx)(B,{scope:a,name:s,required:o,disabled:l,value:j,onValueChange:b,children:(0,t.jsx)(h.Root,{asChild:!0,...g,orientation:d,dir:y,loop:u,children:(0,t.jsx)(f.Primitive.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:y,...m,ref:r})})})});T.displayName=P;var H="RadioGroupItem",q=r.forwardRef((e,a)=>{let{__scopeRadioGroup:s,disabled:i,...n}=e,o=O(H,s),l=o.disabled||i,d=L(s),c=M(s),m=r.useRef(null),f=(0,p.useComposedRefs)(a,m),x=o.value===n.value,v=r.useRef(!1);return r.useEffect(()=>{let e=e=>{F.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(h.Item,{asChild:!0,...d,focusable:!l,active:x,children:(0,t.jsx)(S,{disabled:l,required:o.required,checked:x,...c,...n,name:o.name,ref:f,onCheck:()=>o.onValueChange(n.value),onKeyDown:(0,u.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,u.composeEventHandlers)(n.onFocus,()=>{v.current&&m.current?.click()})})})});q.displayName=H;var _=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,...s}=e,i=M(a);return(0,t.jsx)(E,{...i,...s,ref:r})});_.displayName="RadioGroupIndicator";var $=e.i(17982),U=e.i(47163);function G({className:e,...r}){return(0,t.jsx)(T,{"data-slot":"radio-group",className:(0,U.cn)("grid gap-3",e),...r})}function K({className:e,...r}){return(0,t.jsx)(q,{"data-slot":"radio-group-item",className:(0,U.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(_,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)($.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var V=e.i(84762),W=e.i(4421),J=e.i(27250),Z=e.i(70137),X=e.i(20682),Q=e.i(49110),Y=e.i(89457),ee=e.i(46015),et=e.i(60039);let er=(0,e.i(10965).default)("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);var ea=e.i(79971),es=e.i(84244);function ei(){let[e,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[f,h]=(0,r.useState)("pix"),[x,v]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),[j,b]=(0,r.useState)([]),w=(0,a.useRouter)(),{toast:N}=(0,X.useToast)(),{items:C,getTotal:k,clearCart:S}=(0,W.useCartStore)(),{user:D,isAuthenticated:E}=(0,W.useAuthStore)(),{addOrder:R}=(0,W.useOrderStore)();(0,r.useEffect)(()=>{m(!0)},[]),(0,r.useEffect)(()=>{p&&!E&&u(!0)},[p,E]),(0,r.useEffect)(()=>{let e=async()=>{if(0===C.length)return void b([]);try{let e=await fetch("/api/products");if(e.ok){let t=await e.json(),r=C.map(e=>{let r=t.products.find(t=>t.id===e.productId);if(r)return{...e,product:r};let a=J.mockProducts.find(t=>t.id===e.productId);return a?{...e,product:a}:null}).filter(Boolean);b(r)}else{let e=C.map(e=>{let t=J.mockProducts.find(t=>t.id===e.productId);return t?{...e,product:t}:null}).filter(Boolean);b(e)}}catch(e){console.error("Error fetching cart products:",e),b(C.map(e=>{let t=J.mockProducts.find(t=>t.id===e.productId);return t?{...e,product:t}:null}).filter(Boolean))}};p&&E&&C.length>0?e():0===C.length&&b([])},[C,p,E]);let I=k(),F=I>=J.mockMarket.minOrderValue?J.mockMarket.deliveryFee:0,P=I+F,A=async e=>{e.preventDefault(),y(!0);try{let e=D.addresses.find(e=>e.isDefault);if(!e)return void N({title:"Erro ao realizar pedido",description:"Você precisa ter um endereço padrão configurado.",variant:"destructive"});let t={items:j.map(e=>({productId:e.productId,productName:e.product.name,productImage:e.product.image,quantity:e.quantity,price:e.price,subtotal:e.price*e.quantity})),totalAmount:P,deliveryFee:F,subtotal:I,paymentMethod:f.toUpperCase(),deliveryAddressId:e.id,notes:x||void 0},r=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create order")}let a=await r.json(),s={id:a.id,userId:a.userId,items:a.items,totalAmount:a.totalAmount,deliveryFee:a.deliveryFee,subtotal:a.subtotal,status:a.status.toLowerCase(),paymentMethod:a.paymentMethod.toLowerCase(),deliveryAddress:{id:a.deliveryAddress.id,street:a.deliveryAddress.street,number:a.deliveryAddress.number,complement:a.deliveryAddress.complement||void 0,neighborhood:a.deliveryAddress.neighborhood,city:a.deliveryAddress.city,state:a.deliveryAddress.state,zipCode:a.deliveryAddress.zipCode,isDefault:a.deliveryAddress.isDefault},createdAt:a.createdAt,estimatedDelivery:a.estimatedDelivery,notes:a.notes};R(s),S(),N({title:"Pedido realizado!",description:"Seu pedido foi enviado com sucesso."}),w.push("/client/orders")}catch(e){console.error("Error creating order:",e),N({title:"Erro ao realizar pedido",description:"Ocorreu um erro ao processar seu pedido. Tente novamente.",variant:"destructive"})}finally{y(!1)}};return p&&(E||e)?(0,t.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,t.jsx)(s.ClientHeader,{showBack:!0}),(0,t.jsxs)("main",{className:"space-y-4 px-4 py-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Finalizar pedido"}),(0,t.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(Q.MapPin,{className:"h-5 w-5"}),"Endereço de entrega"]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"font-bold flex items-center gap-2",children:[(0,t.jsx)(es.User,{className:"h-4 w-4"})," ",D?.name]}),(0,t.jsxs)("p",{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(Q.MapPin,{className:"h-4 w-4"}),D?.addresses.find(e=>e.isDefault)?.street,","," ",D?.addresses.find(e=>e.isDefault)?.number,D?.addresses.find(e=>e.isDefault)?.complement&&`, ${D?.addresses.find(e=>e.isDefault)?.complement}`," ","-",D?.addresses.find(e=>e.isDefault)?.neighborhood,", ",D?.addresses.find(e=>e.isDefault)?.city," -",D?.addresses.find(e=>e.isDefault)?.state,","," ",D?.addresses.find(e=>e.isDefault)?.zipCode]}),(0,t.jsxs)("p",{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(ea.Phone,{className:"h-4 w-4"})," ",D?.phone]})]})})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.CreditCard,{className:"h-5 w-5"}),"Método de pagamento"]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)(G,{value:f,onValueChange:e=>h(e),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(K,{value:"pix",id:"pix"}),(0,t.jsxs)(c.Label,{htmlFor:"pix",className:"flex items-center gap-2",children:[(0,t.jsx)(ee.Smartphone,{className:"h-4 w-4"}),"Pix"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(K,{value:"credit",id:"credit"}),(0,t.jsxs)(c.Label,{htmlFor:"credit",className:"flex items-center gap-2",children:[(0,t.jsx)(Y.CreditCard,{className:"h-4 w-4"}),"Cartão de crédito"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(K,{value:"debit",id:"debit"}),(0,t.jsxs)(c.Label,{htmlFor:"debit",className:"flex items-center gap-2",children:[(0,t.jsx)(Y.CreditCard,{className:"h-4 w-4"}),"Cartão de débito"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(K,{value:"cash",id:"cash"}),(0,t.jsxs)(c.Label,{htmlFor:"cash",className:"flex items-center gap-2",children:[(0,t.jsx)(et.DollarSign,{className:"h-4 w-4"}),"Dinheiro"]})]})]})})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(er,{className:"h-5 w-5"}),"Observações"]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)(V.Textarea,{placeholder:"Alguma observação sobre o pedido?",value:x,onChange:e=>v(e.target.value)})})]}),(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardContent,{className:"space-y-3 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,t.jsx)("span",{className:"font-medium",children:(0,Z.formatCurrency)(I)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Taxa de entrega"}),(0,t.jsx)("span",{className:"font-medium",children:F>0?(0,Z.formatCurrency)(F):"Grátis"})]}),(0,t.jsx)(d.Separator,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Total"}),(0,t.jsx)("span",{className:"text-xl font-bold text-green-600",children:(0,Z.formatCurrency)(P)})]})]})}),(0,t.jsx)(o.Button,{type:"submit",className:"w-full",size:"lg",disabled:g,children:g?"Processando...":"Confirmar"})]})]}),(0,t.jsx)(i.BottomNav,{}),(0,t.jsx)(n.LoginModal,{isOpen:e,onClose:()=>u(!1),onLoginSuccess:()=>{}})]}):null}e.s(["default",()=>ei],68475)}]);