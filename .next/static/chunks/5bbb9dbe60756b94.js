(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70137,e=>{"use strict";function t(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function l(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function a(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short"}).format(new Date(e))}e.s(["formatCurrency",()=>t,"formatDate",()=>l,"formatDateShort",()=>a])},65739,e=>{"use strict";let t=(0,e.i(10965).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],65739)},23261,e=>{"use strict";var t=e.i(7156),l=e.i(81061),a=e.i(72287),s=e.i(22084),r=e.i(70065),n=e.i(62870),d=e.i(70137),i=e.i(48054),o=e.i(60039),c=e.i(74872),u=e.i(65739);function x(){let[e,x]=(0,l.useState)({totalOrders:0,totalRevenue:0,pendingOrders:0,totalProducts:0}),[m,h]=(0,l.useState)(!0),[j,f]=(0,l.useState)(new Date().getMonth().toString()),[g,p]=(0,l.useState)(new Date().getFullYear().toString());(0,l.useEffect)(()=>{(async()=>{try{h(!0);let e=parseInt(j)+1,t=await fetch(`/api/admin/stats?month=${e}&year=${g}`);if(t.ok){let e=await t.json();x(e)}}catch(e){console.error("Error fetching admin stats:",e)}finally{h(!1)}})()},[j,g]);let b=new Date().getFullYear(),v=Array.from({length:5},(e,t)=>(b-t).toString());return m&&!e.totalProducts?(0,t.jsx)(a.AuthGuard,{requireRole:"admin",children:(0,t.jsx)(s.AdminLayout,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("p",{children:"Carregando dados..."})})})}):(0,t.jsx)(a.AuthGuard,{requireRole:"admin",children:(0,t.jsx)(s.AdminLayout,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Visão geral do seu negócio"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.Select,{value:j,onValueChange:f,children:[(0,t.jsx)(n.SelectTrigger,{className:"w-[140px]",children:(0,t.jsx)(n.SelectValue,{placeholder:"Mês"})}),(0,t.jsx)(n.SelectContent,{children:[{value:"0",label:"Janeiro"},{value:"1",label:"Fevereiro"},{value:"2",label:"Março"},{value:"3",label:"Abril"},{value:"4",label:"Maio"},{value:"5",label:"Junho"},{value:"6",label:"Julho"},{value:"7",label:"Agosto"},{value:"8",label:"Setembro"},{value:"9",label:"Outubro"},{value:"10",label:"Novembro"},{value:"11",label:"Dezembro"}].map(e=>(0,t.jsx)(n.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)(n.Select,{value:g,onValueChange:p,children:[(0,t.jsx)(n.SelectTrigger,{className:"w-[100px]",children:(0,t.jsx)(n.SelectValue,{placeholder:"Ano"})}),(0,t.jsx)(n.SelectContent,{children:v.map(e=>(0,t.jsx)(n.SelectItem,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Total de Pedidos"}),(0,t.jsx)(c.ShoppingBag,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:m?"...":e.totalOrders}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No período selecionado"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Receita Total"}),(0,t.jsx)(o.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:m?"...":(0,d.formatCurrency)(e.totalRevenue)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No período selecionado"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Pedidos Pendentes"}),(0,t.jsx)(u.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:m?"...":e.pendingOrders}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No período selecionado"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Produtos"}),(0,t.jsx)(i.Package,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.totalProducts}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No catálogo total"})]})]})]})]})})})}e.s(["default",()=>x])}]);